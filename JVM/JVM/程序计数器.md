# 点此回到[[原理]]

## 程序计数器（Program Counter Register，简称PC寄存器），主要用于跟踪当前线程正在执行的字节码指令地址

## 定义：程序计数器是一个小型的、类似于指针的寄存器，它指向当前线程所执行的字节码的地址。

## 作用：
- 存储当前正在执行的字节码指令的地址
- 在多线程环境中，每个线程都有一个独立的程序计数器（线程私有），用于记录线程的执行位置
- 当线程切换时，JVM会保存和恢复每个线程的程序计数器，以确保每个线程都能继续执行它的代码

## 特殊情况:如果线程正在执行的是本地方法（native method），程序计数器的值是未指定的（undefined）。这是因为本地方法不是由字节码执行的，而是由本地方法库执行的，JVM在执行本地方法时，不需要使用程序计数器来记录字节码指令地址


## 特点：
- 线程私有，每个线程都有一个独立的程序计数器
- 由于程序计数器占用的内存非常小，是JVM内唯一一个不会发生OutOfMemoryError的区域
- 辅助字节码解释器执行：程序计数器是字节码解释器的重要组成部分。字节码解释器通过程序计数器来读取下一条需要执行的字节码指令
- 也是程序控制流的指示器，例如循环、if else 、异常处理等都依赖它完成